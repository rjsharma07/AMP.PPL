<div class="header">
    <div class="header-text">Whether itâ€™s an everyday challenge or an enterprise solution, Atlassian partners
        are certified to solve challenges of any scale. Begin by searching below.</div>
</div>
<div class="searchbar-container">
    <app-search-bar (keyEvent)="inputEventHandler($event)"></app-search-bar>
</div>
<div class="container">
    <div class="sidebar-container">
        <app-sidebar (filter)="filterOrganizationHandler($event)" [countries]="countries"></app-sidebar>
    </div>
    <div class="main-pane">
        <p class="main-pane-path">Partner Locator > <span class="path-title">Search Result(s)</span></p>
        <div class="top-part">
            <div>
                <h4> {{organizations.length}} Search results</h4>
            </div>
            <div class="favorites-title">
                <mat-slide-toggle (change)="toggleFav()">View Favourites</mat-slide-toggle>
            </div>
        </div>
        <div class="card-pane">
            <mat-card class="example-card" *ngFor="let item of organizations">
                <div class="card-content">
                    <div class="card-tag-box">
                        <mat-card-header class="org-header" *ngIf="item.supplier">
                            <div class="org-types">
                                <div class="tag-title bg-light">{{item.supplier.supplierType}}</div>
                                <div class="tag-title bg-dark">{{item.partnership[0].partnerType}}</div>
                            </div>
                            <div class="card-img"><img src={{item.thumbnail}} class="logo" /></div>
                            <div class="overlay">
                                <button class="view-btn" matTooltip="Preview" matTooltipPosition="above"
                                    (click)="navigateToDetails(item.id)">View</button>
                            </div>
                        </mat-card-header>
                    </div>
                    <mat-card-content>
                        <div class="card-text card-title">{{item.name}}</div>
                        <div class="card-text card-description">{{item.aboutUs}}</div>
                        <div class="card-text card-location">{{item.address.state + ', ' + item.address.country}}</div>
                        <div class="card-text card-url"><a href="{{item.websiteUrl}}">{{item.websiteUrl}}</a></div>
                    </mat-card-content>
                </div>
                <div class="card-footer">
                    <star-rating [value]="item.avgrating" [totalstars]="5" checkedcolor="gold" uncheckedcolor="white"
                        size="20px">
                    </star-rating>
                    <div *ngFor="let user of item.userRatingAndFavourite">
                        <div *ngIf="user.userId == '11'">
                            <mat-icon (click)="bookmark(item)">{{ user.favourite ? 'bookmark' : 'bookmark_border' }}
                            </mat-icon>
                        </div>
                    </div>
                </div>
            </mat-card>
        </div>
    </div>
</div>